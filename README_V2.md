# 윌리엄 오닐 돌파매매 자동 알림 봇 🚀

윌리엄 오닐의 CAN SLIM 투자 기법 중 돌파매매(Breakout Trading) 패턴을 자동으로 감지하고 텔레그램으로 알림을 보내주는 파이썬 프로그램입니다.

## 🧠 새로운 스마트 버전 출시! ⭐

**자동 시간대 인식 + 텔레그램 명령어로 종목 관리!**

```
✨ 스마트 버전의 특징:
- 🕐 시간대 자동 인식 (한국 장중/미국 장중)
- 💬 텔레그램 명령어로 종목 추가/삭제
- 💾 자동 저장 (재시작해도 유지)
- ⏱️ 30분마다 빠른 스캔
- 🎯 가장 편리한 사용성!
```

---

## 📦 제공되는 버전

### 🧠 스마트 버전 (최신! 추천!)
- `oneil_breakout_bot_smart.py` - 시간대 자동 + 명령어 ⭐
- `README_SMART.md` - 상세 가이드
- `WHICH_VERSION_V2.md` - 버전 비교

**특징:**
- 09:00-15:30 → 한국 주식만
- 22:30-06:00 → 미국 주식만
- 30분마다 스캔
- 텔레그램 명령어 (`/add_us`, `/add_kr`, `/list` 등)

### 🏆 통합 버전 (기본)
- `oneil_breakout_bot_unified.py` - 미국 + 한국 통합
- `config.py` - 통합 설정 파일
- `README_UNIFIED.md` - 통합 가이드

### 📁 분리 버전 (특수 목적)
- `oneil_breakout_bot.py` - 미국 주식 전용
- `oneil_breakout_bot_kr.py` - 한국 주식 전용

---

## 🚀 빠른 시작 (3분)

### 스마트 버전 (추천!)

#### 1. 패키지 설치
```bash
pip install -r requirements.txt
```

#### 2. 텔레그램 봇 설정
1. `@BotFather`에서 봇 생성 → 토큰 받기
2. 봇에게 메시지 보낸 후 Chat ID 확인

#### 3. config.py 수정
```python
TELEGRAM_TOKEN = "실제_봇_토큰"
CHAT_ID = "실제_Chat_ID"
```

#### 4. 실행!
```bash
python oneil_breakout_bot_smart.py
```

#### 5. 텔레그램으로 종목 추가
```
/add_us NVDA
/add_kr 005930
/list
/help
```

---

## 💬 텔레그램 명령어 (스마트 버전)

```
/add_us AAPL      - 미국 주식 추가
/add_kr 005930    - 한국 주식 추가
/remove_us TSLA   - 미국 주식 삭제
/remove_kr 035420 - 한국 주식 삭제
/list             - 감시 종목 보기
/status           - 시장 상태 확인
/help             - 도움말
```

**예시:**
```
[You] /add_us NVDA
[Bot] ✅ 🇺🇸 NVDA 추가 완료!
      현재 미국 종목: 6개

[You] /list
[Bot] 📊 현재 감시 종목
      
      🇺🇸 미국 주식 (6개)
      AAPL, MSFT, GOOGL, NVDA, TSLA, PLTR
      
      🇰🇷 한국 주식 (5개)
      삼성전자(005930), SK하이닉스(000660), ...
```

---

## 📈 감지 패턴

- **컵 앤 핸들**: 가장 강력한 돌파 패턴
- **피벗 포인트 돌파**: 신고점 + 거래량 급증
- **베이스 돌파**: 횡보 구간 이탈

---

## 💬 알림 예시

```
🇺🇸 [피벗 포인트 돌파!]
📊 시장: 미국 주식
🏢 종목: NVDA
💰 현재가: $145.50
📈 돌파율: 2.3%
📊 거래량 증가: +75%
✅ 강력한 매수 신호!
```

```
🇰🇷 [피벗 포인트 돌파!]
📊 시장: 한국 주식
🏢 종목: 삼성전자 (005930)
💰 현재가: 72,500원
📈 돌파율: 2.1%
📊 거래량 증가: +85%
✅ 강력한 매수 신호!
```

---

## 🕐 스마트 버전의 시간대별 동작

```
09:00-15:30 (평일) → 🇰🇷 한국 주식만 스캔
22:30-06:00 (평일) → 🇺🇸 미국 주식만 스캔
나머지 시간       → ⏸️  대기 (스캔 안함)
```

**장점:**
- 리소스 효율적 (휴장 시간엔 대기)
- 자동으로 시장 선택
- 30분마다 빠른 스캔

---

## 🎯 어떤 버전?

### 스마트 버전 (95%의 경우) 🧠⭐
- 시간대 자동 인식 원할 때
- 텔레그램으로 편하게 관리
- 30분 빠른 스캔
- **→ `oneil_breakout_bot_smart.py`**

### 통합 버전
- 24시간 계속 스캔
- config.py 파일로 관리
- **→ `oneil_breakout_bot_unified.py`**

### 분리 버전
- 시장별 완전히 다른 설정
- **→ `oneil_breakout_bot.py` + `oneil_breakout_bot_kr.py`**

**자세한 비교: `WHICH_VERSION_V2.md`**

---

## 🧪 테스트

```bash
# 텔레그램 설정 테스트
python test_telegram.py

# 한국 주식 데이터 테스트
python test_kr_stock.py
```

---

## 🔧 문제 해결

- 텔레그램 404 오류 → `QUICK_FIX.md`
- pykrx 데이터 오류 → `TROUBLESHOOTING.md`
- 스마트 버전 가이드 → `README_SMART.md`
- 전체 가이드 → `README_UNIFIED.md`

---

## 📚 가이드 문서

- `README_SMART.md` - 스마트 버전 상세 가이드 ⭐
- `WHICH_VERSION_V2.md` - 버전 선택 가이드
- `README_UNIFIED.md` - 통합 버전 가이드
- `QUICKSTART.md` - 5분 빠른 시작
- `TROUBLESHOOTING.md` - 문제 해결
- `QUICK_FIX.md` - 긴급 해결

---

## 🆚 버전 비교

| 기능 | 스마트 🧠 | 통합 | 분리 |
|------|---------|------|------|
| **자동 시간대 선택** | ✅ ⭐ | ❌ | ❌ |
| **텔레그램 명령어** | ✅ ⭐ | ❌ | ❌ |
| **종목 동적 관리** | ✅ ⭐ | ❌ | ❌ |
| **스캔 주기** | 30분 ⭐ | 1시간 | 설정 |
| **사용 난이도** | 쉬움 ⭐ | 보통 | 보통 |

---

## 💡 사용 팁

1. **스마트 버전으로 시작** (대부분의 경우)
2. **소수 종목으로 시작** (미국 3-5개, 한국 3-5개)
3. **텔레그램 명령어 활용** (`/list`, `/status` 자주 확인)
4. **신호 검증 후 점진적 확대**

---

## 📊 시장 시간대

### 한국 주식
- 장 운영: 평일 09:00 ~ 15:30 (KST)

### 미국 주식 (한국 시간)
- 여름: 22:30 ~ 05:00 (다음날)
- 겨울: 23:30 ~ 06:00 (다음날)

**시간대가 겹치지 않아서** 효율적으로 모니터링 가능!

---

## ⚠️ 면책 조항

교육 목적 프로그램입니다. 모든 투자 판단과 손실은 본인 책임입니다.

---

## 📝 라이선스

MIT License - 자유롭게 수정 및 배포 가능

---

**Happy Trading! 📈🚀**

```
🧠 스마트 버전으로 더 편리하게!
🕐 자동 시간대 + 💬 텔레그램 명령어
```
